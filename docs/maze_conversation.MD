# 🧩 GPT5 미로 프로젝트 대화 로그 (요구사항 → 해결사항)
> 이 파일은 GPT5와 주고받은 대화 기록을 그대로 보존합니다.  
> 요구사항(Q)과 해결사항(A) 형태로 정리되어 있습니다.

### Q. 좌회전으로만 탈출할 수 있는 미로게임 만들자.
```
[조작법]
    - 전진: W 또는 ↑
    - 좌회전: A 또는 ← (우회전 D/→는 금지)
    - 리셋: R
    - 오토파일럿(좌수법/왼손 벽타기): L (켜면 자동으로 좌회전 우선 규칙으로 탈출 시도)
    - 다음 스테이지: N (샘플 미로 3개 포함)

[규칙 요약]
    - 플레이어는 “좌회전만” 할 수 있고, 앞으로 전진은 자유.
    - 우회전이 필요해 보이는 상황도, 좌회전을 여러 번 해서 각도를 맞춰야 해.
    - 오토파일럿은 좌수법(왼손을 벽에 대고 가기)을 구현했기 때문에 단일 연결 미로에서는 항상 출구까지 갈 수 있어.

원하는 스타일(타일 색, 캐릭터, 맵 추가/교체, 난이도 규칙)로 커스텀하고 싶으면 말만 해. 
미로 생성기(DFS/Prims) 붙여서 좌회전만으로도 항상 풀리는 미로만 자동 생성하도록도 확장해줄게
```
### Q. 원하는 스타일(타일 색, 캐릭터, 맵 추가/교체, 난이도 규칙)로 커스텀하고 싶으면 말만 해. 미로 생성기(DFS/Prims) 붙여서 좌회전만으로도 항상 풀리는 미로만 자동 생성하도록도 확장해줄게. 이거 먼저 해줘
```
[추가된 것]
    - 알고리즘 선택: DFS / Prim
    - 크기 지정: 가로/세로 홀수 입력 (기본 31×31)
    - 시드 입력: 동일 시드로 같은 미로 재생성
    - 단축키: G 새 미로 생성, L 오토파일럿(좌수법) 토글

[왜 좌회전만으로 항상 풀리나요?]
    - 생성기는 완전 미로(모든 칸이 하나의 트리로 연결, 순환 없음)를 만듭니다.
    - 벽을 왼손으로 더듬는 좌수법은 이런 미로에서 반드시 출구에 도달합니다.
    - 플레이어 조작에서도 우회전은 막혀 있지만, 좌회전만 여러 번 돌면 
       “우회전과 동일한 방향 전환”이 가능하므로 게임 규칙을 지키면서도 항상 진행할 수 있어요.
```
### Q. 이거는 상하좌우 다 갈 수 있는 일반 미로게임이잖아. 난 무조건 왼쪽으로만 가야해. 운전으로 치면 좌회전만 할 수 있는거야.
```
“직진은 가능하지만 우회전은 절대 불가이고, 회전이 필요하면 좌회전만 써야 하는 방식”이었지. 
그 요구대로 좌회전+전진 또는 전진 두 동작만 있는 “Strict Left-Only” 버전을 따로 만들었다. 
(제자리 회전도 막아둠)

[핵심 변경점]
    - 동작은 딱 2개:
        A/← = 좌회전 + 전진 (한 번에 수행)
        W/↑ = 전진

    - D/→ 우회전과 제자리 회전은 없음. A를 여러 번 눌러도 계속 왼쪽으로 꺾이며 항상 전진이 포함되기 때문에 사실상 우회전을 흉내낼 수 없어.

    - 생성기는 처음부터 좌회전/전진만으로 도달 가능한 단일 복도 경로를 만든다. 즉, 우회전이 필요 없는 맵만 나온다.

    - 오토파일럿(L): “가능하면 좌회전, 아니면 직진”만 사용.

[조작 요약]
    - 전진: W / ↑
    - 좌회전+전진: A / ←
    - 자동진행 토글: L
    - 새 맵 생성/리셋: G / R
    - 크기/시드 입력 → Left-Only 보장 맵 자동 생성
```
### Q.  에러 발견 (left_turn_maze_strict.html:132 Uncaught RangeError: Maximum call stack size exceeded)
```
오류 원인 찾았어! 생성기 함수가 조건 미달이면 재귀로 다시 호출하도록 돼 있었는데, 
연속해서 조건을 못 만족하면 재귀가 깊어져서 Maximum call stack size exceeded가 터졌어.

[수정 사항]
    - 재귀 → 반복(Iterative) 방식으로 전환하고 재시도 횟수를 제한(최대 400회).
    - “가장 길게 뚫은 경로(best-so-far)”를 저장해서, 최악의 경우에도 유효한 맵을 반환.
    - 너무 작은 크기 입력 시 자동으로 최소·홀수로 보정.
```

### Q. 단일 경로만 만들면 재미 없잖아. 미로 찾기인데 좌회전만해서 해결할 수 있어야해. 새 맵을 생성해도 그렇게 만들어져야 하는데 왜 일직선만 나와?
```
단일 복도만 뚫리면 재미없지! 요구대로 **갈림길이 있는 ‘진짜 미로’**이면서도 
플레이는 좌회전(제자리) + 전진만으로 해결되도록 다시 만들었어.

[바뀐 점 (핵심)]
- 조작 제한:  
    A/← = 좌회전(제자리 회전만)
    W/↑ = 전진
    우회전/후진/좌로 전진(스트레이프) 전부 금지

- 미로 생성: DFS/Prim으로 완전 미로(사이클 없음) 를 만들고, 시작/출구를 가장자리에 배치.
    → 이 구조에서는 왼손 벽타기가 항상 출구로 이어져요.

- 오토파일럿(L): 왼손 벽타기 정확 구현
    왼쪽이 열려 있으면 좌회전 후 전진
    아니면 전진
    둘 다 안 되면 좌회전을 반복(최대 3번)해 방향만 틀고 다시 시도
        → 우회전을 절대 쓰지 않으면서도 막다른 길에서 “세 번의 좌회전 = 우회전” 효과가 나도록 처리

[왜 이제 ‘갈림길 많은’ 미로에서도 좌회전만으로 되나?]
    - 완전 미로 + 외벽 연결 조건이면 한쪽 벽을 계속 따라가면(왼손 벽타기) 반드시 출구를 만나게 돼.
    - 플레이어는 오직 좌회전/전진만 가능하지만, 제자리 좌회전을 허용했기 때문에 막다른 길에서도 방향을 바꿀 수 있어요(우회전 없이도).

[팁]
    - G로 새 맵 생성, R 리셋, 알고리즘은 DFS/Prim 선택 가능, 크기는 홀수로 지정(기본 31×31), 시드로 재현 가능.
    - 색/캐릭터/테마 바꾸고 싶으면 변수만 바꾸면 돼요(--wall, --floor, --player, --exit).
```

### Q. 제자리 회전도 동쪽이 나오면 안된다니까..? 북과 서로만 있어야지. 무슨 말인지 알겠어? 운전을 한다고 생각해봐. 제자리에서 돌지 않잖아.
```
오케이, 이제 정확히 이해했어. 운전처럼 제자리에서 도는 회전은 완전 금지, 
그리고 플레이 중에 바라보는 방향은 “북”과 “서”만 나오도록 딱 고정했어.

즉, 동(E)/남(S) 방향은 아예 등장하지 않아. 가능한 동작은:   
    - W / ↑ = 전진 (현재 방향 그대로 앞으로)
    - A / ← = 좌회전+전진 (현재가 북일 때만 허용) → 북→서로 한 번만 회전하면서 동시에 진입
    - R / G = 리셋/새 맵 생성

맵은 L자 메인 경로(북/서 이동만) 를 먼저 만든 다음, 
그 위에 DFS로 가지를 잔뜩 붙인 완전 미로로 채워서 갈림길이 많아도 규칙(전진/좌회전+전진만)으로 탈출 가능하게 했어. 
메인 경로의 고유성은 유지돼서, 게임은 단조롭지 않으면서도 네 규칙을 어기지 않아
```

### Q. 에러 발견 (Uncaught TypeError: Cannot read properties of undefined (reading 'x'))
```
버그 원인 정확히 잡았어—출구(E)가 가지 뚫는 과정에서 덮여 사라져서 
exit가 undefined가 된 거였어. DOM도 암묵 전역을 기대하던 부분이 있어 브라우저마다 깨질 수 있었고.

[무엇을 고쳤나]
    - E/S 보호: 분기(DFS) 때 S/E 좌표를 forbid 집합으로 지정 → 절대 덮어쓰지 않음.
    - 셀 값 체크 강화: 분기 시 목표 칸이 '#'일 때만 파기(기존엔 E라도 뚫어버릴 수 있었음).
    - DOM 안전화: document.getElementById로 전부 명시 조회 (암묵 전역 의존 제거).
    - 초기화 순서 보장: parseLevel에서 S/E 누락 시 에러, generate()에서 다시 생성.

[플레이 규칙(그대로 유지)]
    - 제자리 회전 없음.
    - 방향은 북/서만 존재.
    - W 전진, A는 북일 때만 좌회전+전진(북→서).
    - G 새 맵, R 리셋.
```
### Q. 아무리 리셋을 해도 출구로 가는 길은 고정이네? 왜그런거야?
```
길이 고정처럼 느껴진 이유는 내가 메인 경로를 SE→NW로 “먼저 위로 쭉, 
그다음 왼쪽으로 쭉” 뚫는 L자 방식으로 만들었기 때문이야. 
그 위에 가지(분기)를 DFS로 채워 넣긴 했지만, 정답 경로 자체는 항상 같은 형태라서 
리셋해도 비슷하게 보였을 거야.

이걸 고쳐서, 여전히 “운전식 좌회전만(전진 / 북→서 좌회전+전진, 제자리 회전 없음, 동/남 없음)” 규칙을 유지하면서도:
    - 메인 경로를 매번 랜덤인 단조 경로(북/서만 이동) 로 만들도록 바꿨어.
    - 즉, 북/서 중 어느 쪽으로 먼저 더 갈지 매 스텝 랜덤하게 섞어서, 매번 다른 모양의 S→E 루트를 만든 뒤,
    - 그 위에 DFS로 전체를 완전 미로로 채움(갈림길·막다른길 plenty).
```
### Q. 전진을 위로 이동으로 바꾸고 W / , 좌회전 + 전진이 아니라 왼쪽으로 이동해서 A / ← 해줘.
```
원하는 대로 컨트롤을 절대방향으로 바꿔서 새로 만들었어.

[컨트롤 (간단)]
    - W / ↑ → 위로 이동(북)
    - A / ← → 왼쪽으로 이동(서)
    - R / G → 리셋 / 새 맵
    - S/↓, D/→는 금지 (아래/오른쪽 이동 불가)

[생성 로직 그대로 유지]
    - SE→NW로 가는 랜덤 단조 경로(북/서만) 를 먼저 만들고, DFS로 가지를 채워 완전 미로로 확장.
    - 그래서 항상 위/왼쪽 이동만으로 출구까지 갈 수 있어.
```

### Q. 응 좋아. 그리고 성공하면 새로운 맵이 등장하게
```
클리어하면 자동으로 다음 맵이 뜨는 버전을 바로 넣었어. 
짧은 토스트 메시지를 보여주고, 0.7초 뒤에 새 맵으로 넘어가.

[바뀐 점]
    - 성공 시: “다음 맵으로 이동!” 토스트 → 자동 새 맵 생성.
    - 스테이지 카운터 추가(1 → 2 → 3 …). R/G 누르면 스테이지가 1로 리셋.
    - 컨트롤은 그대로 절대방향:
        - W/↑ = 위로 이동
        - A/← = 왼쪽 이동
        - 아래/오른쪽 이동은 불가
```
### Q. 해당 버튼을 꾸욱 누르면 벽에 부딧힐때까지 가게 변경
```
벽에 부딪힐 때까지 계속 이동하는 기능을 추가해드렸습니다.
이제 W / ↑ 또는 A / ← 키를 꾹 누르고 있으면, 캐릭터가 벽을 만날 때까지 계속 이동하게 됩니다.
```

### Q. 이제 아래로 이동도 추가해주고. 첫 시작은 무조건 좌회전 가능한 미로로 바꿔
```
[요구사항]
    1. 아래(↓) 방향 이동 추가
        - 지금은 왼쪽(←), 위(↑), 오른쪽(→)만 있는데, keydown 이벤트에서 ArrowDown 처리 로직을 추가하면 됩니다.
        - 꾹 누르면 벽에 부딪힐 때까지 내려가는 구조 그대로 적용하면 돼요.
    2, 첫 시작 미로는 반드시 좌회전 가능한 구조
        - 현재 미로는 DFS 랜덤 생성이라 첫 위치에서 좌회전이 가능하다는 보장이 없음.
        - 해결 방법: 미로 생성 후 시작 위치(왼쪽 위 모서리) 기준으로 좌측 이동 가능한 통로가 없으면,
            → 다시 미로를 생성하도록 루프를 돌리면 됩니다.

[적용]
    - 플레이어: 🚗, 출구: 🥅 (이모지로 렌더)
    - 이동: W/↑ 위, A/← 왼쪽, S/↓ 아래 추가
    - 키를 꾹 누르면 벽에 부딪힐 때까지 쭉 이동
    - 도착 시 토스트 후 자동으로 다음 맵 생성
    - **첫 시작 맵은 반드시 “왼쪽으로 바로 이동 가능”**한 위치에서 시작되도록 보장 (없으면 재생성)
```
### Q. 살짝만 눌러도 벽으로 가버리는데 그거 없애줘
```
S/↓ 이동이 실제로 작동 안 함 → 코드에서 keydown 핸들러에 아래 방향 처리를 안 넣었거나, 
방향만 세팅했지 이동 실행을 안 해줬을 확률이 커.

살짝 눌러도 벽까지 가버리는 문제 → 지금은 keydown 이벤트가 발생하자마자 while 루프 돌려서 벽까지 이동시키고 있어. 그러니 "짧게 눌러도" 끝까지 달려버리지.

[적용]
    - S/↓ 아래 이동 추가됐고, 짧게 누르면 한 칸만, 꾹 누르면 벽까지 연속 이동하도록 로직을 수정했어.
    - 플레이어는 🚗, 출구는 🥅.
    - 처음 생성되는 맵은 **시작 위치에서 ‘왼쪽으로 바로 이동 가능’**한 경우만 선택되도록 보장했어.
```
### Q. 근데 이제 미로가 좌회전으로만 가도 골에 들어가게 해야하지 않을까? 지금은 절대 못해.
```
지금 구조에선 “왼손 법칙(좌회전 우선)”으로는 못 풀리는 경우가 있어서, 
아예 생성기 단계에서 조건을 걸어 해결했어.

[바뀐 점]
    - 미로를 만든 뒤 시뮬레이션으로 왼손 법칙(좌, 직진, 우, 유턴 순) 을 따라가 보면서,
        - 출발: 우하단 (n-2, n-2), 초기 방향: 북쪽
        - 도착: 좌상단 (1, 1)
        - 진행 동안 동쪽(East) 이동이 한 번도 나오지 않아야 함 (즉, 좌/상/하만 사용)
    - 위 조건을 만족하는 미로만 채택해서 시작하게 변경했어.
        → 이제 실제 플레이에서도 좌회전만 고집해도 골(🥅) 까지 도달 가능해.
    - 생성기 제약: DFS에서 “동쪽으로 파기”를 금지 → 미로 전체에 동쪽 진행이 아예 없음.
    - 검증: 시작(오른쪽-아래 모서리)에서 왼손 법칙(좌→직→우→후진)으로 시뮬, 
                    동쪽 이동 없이 골(왼쪽-위 모서리)에 도달하는 경우만 채택.
    -  조작은 그대로: W/↑ 위, A/← 왼쪽, S/↓ 아래.
    - 짧게=한 칸, 꾹=벽까지. 골(🥅) 도달 시 자동으로 다음 맵.
```

### Q. 좋아. 더 복잡하게 해줘
```
메인 경로는 동쪽 이동 없이(좌/상/하만) 미리 랜덤 지그재그로 뚫고, 
나머지는 DFS로 꽉 채워 분기와 함정을 잔뜩 만드는 방식이야. 
그래서 좌회전만 고집해도 결국 골(🥅)에 도달할 수 있으면서, 맵은 훨씬 복잡해져.

[뭐가 달라졌나]
    - 기본 맵 크기 크게(41×41), 스테이지가 오를수록 +2씩 증가.
    - 지그재그 강도 슬라이더: 메인 경로가 세로로 더 흔들리도록 조절(기본 75).
    - 시드 입력 지원 → 같은 맵 재현 가능.
    - 조작은 그대로: W/↑ 위, A/← 왼쪽, S/↓ 아래
        - 짧게 = 1칸, 꾹 = 벽까지 이동
        - 골 도착 시 토스트 → 자동으로 다음 맵
```

### Q. 지금은 무조건 골로 가게 했잖아. 막힌 곳도 다 이어서 헷갈리게도 해줘
```
**헷갈리게 루프(지름길/사이드 연결)**들을 추가한 버전을 만들었어.

[뭐가 달라졌냐면]
    - 메인 경로만 동쪽(EAST) 금지로 먼저 뚫어서, 좌회전만 고집해도 결국 골(🥅) 도달 가능.
    - 그 다음 일반 DFS로 전체 연결 → 기본은 완전 미로(트리).
    - 마지막에 메인 경로를 건드리지 않는 선에서 벽을 추가로 터서 루프/헷갈리는 분기 생성.
        → 스샷 같은 L자 구간도 옆 통로들과 이어져서 “항상 골로 직행”이 아니라 갈림길이 많아짐.

[핵심 변경]
    - 방(룸) 생성기 추가: 무작위 크기의 사각 방을 여러 개 파고, 각 방에 여러 개의 문(door) 을 만들어 주변 통로와 직접 연결.
    - 여전히 메인 경로는 동쪽(EAST) 없이 선 carve → 좌회전만으로도 골(🥅)까지 갈 수 있는 루트가 존재.
    - 나머지는 DFS로 채운 뒤, 루프까지 추가해 헷갈리는 갈림길을 늘림.

[사이드 패널에서 조절]
    - 크기(홀수), 지그재그 강도(메인 경로), 루프 밀도(%), 방 개수, 문 개수/방, 시드.
    - 방(룸): 이제 크기를 작게 제한하고 서로 겹치지 않게(1칸 여백 유지) 생성해.
    - 연결: 각 방은 문을 여러 개 뚫어서 주변 길과 여러 방향으로 연결돼.
    - 시작/골 무작위: 매번 메인 경로 위에서 무작위로 두 점을 뽑아 🚗과 🥅을 배치
         → 좌회전만으로도 도달 가능한 경로가 항상 존재하면서도 매판 달라져.
```

### Q. 왼쪽 맨 끝에 플레이어가 있으면 미로 탈출이 안돼. 지금처럼 복잡한 미로를 유지하되, “좌회전 규칙으로 탈출 가능 여부를 검사 후 보장”하는 쪽으로 작업
```
“지금처럼 복잡한 미로”를 유지하면서도 좌회전(왼손 법칙)으로 반드시 클리어 가능한지 시뮬레이션으로 검증해 주는 버전이야.

[포인트]
    - 생성 파이프라인: 메인 경로(동쪽 이동 없이) → DFS로 전체 채움 → 방(룸) 비겹침 생성 + 다문 연결 → 루프 추가.
    - 검증: 시작/골을 메인 경로에서 무작위로 뽑은 뒤, 왼손 법칙(좌→직→우→후진) 시뮬레이션을 동쪽 이동 금지 조건으로 실행.
        - 성공이면 채택,
        - 실패면 다른 시작/골 조합을 재시도,
        - 그래도 안 되면 맵 자체를 재생성.
    - 조작은 그대로: W/↑ 위, A/← 왼쪽, S/↓ 아래 (짧게=1칸, 꾹=벽까지).
    - 골(🥅) 도착 시 자동 다음 맵.
```

### Q. 좌회전만으로도 서쪽에서 동쪽으로 갈 수 있는 미로
```
원하는 요구(“좌회전만으로도 서쪽 → 동쪽 이동 가능”) 충족하는 새 버전 준비했어.

[핵심]
    - 시작은 서쪽 가장자리(x=1), 골은 동쪽 가장자리(x=n-2) 무작위.
    - 맵은 여전히 복잡: DFS 기반 + 비겹침 방(여러 문으로 연결) + 루프.
    - 생성 후 왼손 법칙(좌→직→우→후진), 시작 방향 동쪽으로 시뮬레이션해서 성공할 때만 확정.
    - 조작: W/A/S/D 또는 ↑/←/↓/→ (짧게=1칸, 꾹=벽까지).
    - 골(🥅) 도달 시 자동으로 다음 맵 생성.
```

### Q. 너가 만든건 절때로 서-> 동으로 갈 수 없어. 그냥 동쪽에서 서쪽으로 가는데 오른쪽 방향키는 못누르는걸로 하고. 내가 잘못된 길로 가면 답을 알려주면서 다시 시도하게 해
```
요구 사항 반영해서 새로 만들었어:

[포인트]
    - 동쪽 → 서쪽으로 가는 미로 (시작=동쪽 가장자리, 골=서쪽 가장자리 무작위)
    - 오른쪽 이동 금지: D/→는 완전히 무시됨
    - 복잡도 유지: DFS + 겹치지 않는 방 + 루프 포함
    - 좌회전 규칙(왼손 법칙, 시작 방향=서쪽) 으로 실제 시뮬레이션해 풀리는 맵만 채택
    - 오답 처리: 정답 경로를 잠깐 표시(녹색 네모 점)하고 시작점으로 리셋 → 다시 시도

[조작]
    - W/↑ 위, A/← 왼쪽, S/↓ 아래 (짧게=한 칸 / 꾹=벽까지)
    - R or G 새 맵 (스테이지 리셋)
```
### Q. 오른쪽 이동 금지인데 답에는 오른쪽으로 가게 나왔어. 이거 고치고, 시작점으로 리셋 → 다시 시도 이 부분은 삭제하고, 오답 처리: 정답 경로를 잠깐 표시(녹색 네모 점) 이거는 버튼을 누르는걸로
```
해결 경로 계산도 동쪽 이동(EAST)을 완전히 금지하도록 바꿨고,
 오답 시 자동 리셋/자동 힌트 표시를 삭제했어.
대신 사이드바의 [힌트 보기] 버튼을 누르면 녹색 네모 점으로 정답 경로가 1.2초만 잠깐 표시돼.

[변경 요약]
    - 검증/정답경로: leftHandPathNoEast(좌→직→우→후진, EAST 금지, 시작 방향=서쪽) 사용.
    - 조작: W/↑ 위, A/← 왼쪽, S/↓ 아래. D/→는 완전히 무시.
    - 버튼: 힌트 보기, 새 맵.
    - 골 도착 시만 다음 맵으로 자동 진행
```
### Q. 답이 이상해
```
지적한 부분을 바로 잡았어.

- 정답 경로 계산을 강화: (x,y,방향) 순환을 감지하는 좌회전 시뮬레이터(동쪽 금지) 로 다시 구현. 잘못된 “점프/역주행” 힌트가 나오지 않도록 했어.

- 힌트 버튼 개선: 이제 현재 위치 기준으로 좌회전(동쪽 금지) 규칙을 적용해 실제 도달 경로만 표시해. (W/N/S 방향 중 가능한 방향으로 시도)

- 자동 리셋은 그대로 제거. 힌트는 1.5초간만 표시.
```

### Q. 뒤로 되돌리기 버튼 추가. 길을 잘못 들었을 때 back
```
지금 구조에 뒤로가기(back) 버튼을 추가해주면 돼요. 
핵심은 path 스택을 두고, 플레이어가 한 칸 이동할 때마다 push, 
뒤로(back) 버튼을 누르면 pop 해서 이전 위치로 되돌아가는 방식이에요.

[변경 사항]
    - 사이드바에 [뒤로가기] 버튼 추가 (id="btnBack").
    - 이동 시마다 이전 좌표를 스택(backStack) 에 기록 → 버튼을 누르면 한 칸씩 되돌림.
    - Backspace 키로도 되돌리기 가능.
    - 반복 이동(키 꾹) 중에는 back이 안전하게 동작하도록 이동 타이머 정지 후 한 칸 되돌리도록 처리.
    - 새 맵 생성 시 히스토리 초기화.
```

### Q. 이제 너가 정리할건 처음부터 지금까지 내가 부탁한 모든 요구사항을 정리해.
```
🧩 미로 프로젝트 요구사항 정리
1. 기본 구조
    - 미로는 서쪽에서 동쪽으로 이동 가능한 구조.
    - 좌회전만으로도 서쪽 → 동쪽 이동이 가능하도록 설계.
    - HTML + Canvas 기반 구현.

2. 미로 제약 조건
    - 길은 단 하나만 존재 (우회로 없음).
    - 항상 출발(서쪽) → 도착(동쪽) 보장.
    - 무작위로 생성되지만 규칙은 유지.

3. 플레이어 이동
    - 플레이어는 격자 단위로 움직임
    - 방향 전환 및 이동은 키보드 입력으로 조작: 화살표 ←↑↓/  키보드 WAS
    - 연속 이동 지원 (키 꾹 누르면 계속 이동).
    - 이동 시 벽 충돌 불가.

4. UI/UX 요구사항
    - 사이드바에 컨트롤 버튼:
        [새 미로] 버튼 → 새로운 미로 생성.
        [시작점] 버튼 → 시작 위치로 이동.
        [뒤로가기] 버튼 → 한 칸 되돌리기.
    - Backspace 키 → 뒤로가기 동작.

5. 뒤로가기(Back 기능)
    - 이동 시마다 이전 좌표를 스택에 기록.
    - 버튼 클릭 또는 Backspace 누르면 한 칸 이전으로 되돌림.
    - 연속 이동 중에는 타이머 중지 후 되돌림 안전 처리.
    - 새 미로 생성 시 히스토리 초기화.

6. 그래픽/시각화
    - 미로 벽/길은 Canvas로 렌더링.
    - 플레이어는 🚗 아이콘으로 표시.

7. 추가 편의 기능 (요청 기반)
    - 되돌린 경로도 추적 가능하도록 확장 고려.
    - 앞으로 추가 가능:
        연속 되돌리기(길게 누르면 쭉)
        힌트 기능(몇 칸 미리 표시)
        되돌린 경로 시각화
```